setwd("~/git/data_visualization/r_shiny_world_development_indicator")
ls
%ls
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.LE00.IN_DS2_en_csv_v2")
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
fd1<-'API_SP.DYN.LE00.IN_DS2_en_csv_v2'
data_le<-read.csv('~/fd1/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
head(data_le)
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
fd1<-'API_SP.DYN.LE00.IN_DS2_en_csv_v2'
data_le<-read.csv('~/fd1/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
fd1<-'API_SP.DYN.LE00.IN_DS2_en_csv_v2/'
data_le<-read.csv('~/fd1/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
data_le<-read.csv('~/API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
data_le<-read.csv('./API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
?read.csv
data_le<-read.csv('./API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv', skip=4)
head(data_le)
head(data_le,1)
names(data_le)
skip=4,check.names = F
skip=4,check.names = FALSE)
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
data_le<-read.csv('./API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv',
skip=4,check.names = FALSE)
head(data_le,1)
setwd("~/git/data_visualization/r_shiny_world_development_indicator")
data_le<-read.csv('./API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv',
skip=4)
head(data_le,1)
names(data_le)
C(1,2,3).append(4)
c(1,2,3).append(4)
c(1,2,3).append()
append(c(1,2,3),4)
append(c(1,2,3),c(4,5))
names(data_le)<-append(names(data_le)[1:4],1960:2017)
names(data_le)
str(data_le)
data_le<-data_le[,1:59]
str(data_le)
head(data_le)
data_le<-clean_data()
head(data_le)
data_le<-data_le[complete.cases(data_le),]
data_le
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(data_le)
data_le<-get_le_data()
head(data_le)
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.LE00.IN_DS2_en_csv_v2")
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.TFRT.IN_DS2_en_csv_v2")
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.TFRT.IN_DS2_en_csv_v2")
data_le<-read.csv('./API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv', skip=4)
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.TFRT.IN_DS2_en_csv_v2")
data_le<-read.csv('API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv', skip=4)
data_le<-read.csv('API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv', skip=4)
setwd("~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.TFRT.IN_DS2_en_csv_v2")
data_fertility<-read.csv('API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv', skip=4)
head(data_fertility)
data_fertility<-data_fertility[,1:59]
data_fertility<-data_fertility[complete.cases(data_le),]
return(data_le)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
file_le<-'~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv'
data_le<-get_data(file_le)
head(data_le)
file_fertility<-'~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.TFRT.IN_DS2_en_csv_v2/API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv'
data_fertility<-get_data(file_fertility)
head(data_fertility)
meta_table<-read.csv('Metadata_Country_API_SP_DYN.TFRT.IN_DS2_en_csv_v2.csv')
data_le<-get_data(file_le,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
file_le<-paste(root,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
root<-'~/git/data_visualization/r_shiny_world_development_indicator/'
file_le<-paste(root,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv')
data_le<-get_data(file_le)
file_le<-paste(root,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv',sep='')
file_le<-'~/git/data_visualization/r_shiny_world_development_indicator/API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv'
data_le<-get_data(file_le)
head(data_le)
file_fertility<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
data_fertility<-get_data(file_fertility)
head(data_fertility)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(data_le)
rm(list=ls())
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(data_le)
head(data_fertility)
file_meta<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/Metadata_Country_API_SP_DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
file_meta
meta_table<-read.csv(file_meta)
file_meta<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/Metadata_Country_API_SP_DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
meta_table<-read.csv(file_meta)
file_fertility
file_meta
file_meta<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/Metadata_Country_API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
meta_table<-read.csv(file_meta)
meta_table
head(meta_table,4)
meta_table<-read.csv(file_meta,header = TRUE)
head(meta_table)
meta_table<-read.csv(file_meta,header = TRUE)
meta_table<-meta_table[,1:3]
head(meta_table)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(meta_table)
head(data_fertility)
df_all<-merge(data_fertility, meta_table, by='Country.Code')
df_all
head(df_all,2)
head(df_all,1)
df_le<-merge(data_le,meta_table, by='Country.Code')
head(df_le,2)
head(df_le,1)
head(data_le,3)
head(df_le)
df_le.size()
size(df_le)
dim(df_le)
df_le<-df_le[,c(-3,-61)]
head(df_le,1)
dim(df_fertility)
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
dim(df_fertility)
head(df_fertility)
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
head(df_fertility)
head(df_le,1)
head(df_fertility,1)
library(reshape)
install.packages(reshape)
install.packages('reshape)'
install.packages('reshape')
install.packages('reshape')
library(reshape)
df_le<-melt(data_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
head(df_le,1)
melted_le<-melt(data_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
head(data_le)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
melted_le<-melt(data_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
head(df_le,1)
melted_le<-melt(df_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melted_le
head(melted_le)
library(dplyr)
rename(melted_le, 'year'='variable','le'='value')
rename(melted_le, year=variable,le=value)
melted_le<-rename(melted_le, year=variable,le=value)
head(melted_le)
melted_le<-rename(melted_le, year=variable,Life.Expentancy=value)
head(melted_le)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(melted_le)
melted_le<-rename(melted_le, Year=variable,Life.Expentancy=value)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(melted_le)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
melted_df<-melt(df, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melt_table<-function(df){
melted_df<-melt(df, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
}
melted_le<-melta_table(df_le)
melted_le<-melt_table(df_le)
melted_df<-rename(melted_df, Year=variable,Life.Expectancy=value)
melted_df<-rename(melted_le, Year=variable,Life.Expectancy=value)
melted_le<-rename(melted_le, Year=variable,Life.Expectancy=value)
head(melted_le)
head(melted_fertility)
melted_fertility<-melta_table(df_fertility)
head(melted_fertility)
melted_fertility<-melt_table(df_fertility)
head(melted_fertility)
melted_fertility<-rename(melted_fertility, Year=variable,Fertility.Rate=value)
head(melted_fertility)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(melted_fertility)
results<-get_merged_data()
library(reshape)
library(dplyr)
root<-'~/git/data_visualization/r_shiny_world_development_indicator/'
file_le<-paste(root,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv',sep='')
file_fertility<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
file_meta<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/Metadata_Country_API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
get_data<-function(filepath){
# clean data, remove NAs, remove useless cols
data<-read.csv(filepath, skip=4)
names(data)<-append(names(data)[1:4],1960:2017)
data<-data[,1:59]
data<-data[complete.cases(data),]
return(data)
}
get_meta_table<-function(){
# get meta_table, remove useless cols
meta_table<-read.csv(file_meta,header = TRUE)
meta_table<-meta_table[,1:3]
return(meta_table)
}
get_merged_data<-function(){
# get table- data_le, data_fertility, meta_table
data_le<-get_data(file_le)
data_fertility<-get_data(file_fertility)
meta_table<-get_meta_table()
# merge Region cols into data_le, data_fertility
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
df_le<-merge(data_le,meta_table, by='Country.Code')
# drop unnecessary cols
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
return(c(df_le, df_fertility))
}
results<-get_merged_data()
df_le<-results[1]
df_fertility<-results[2]
head(df_le,1)
return(list(df_le, df_fertility))
get_merged_data<-function(){
# get table- data_le, data_fertility, meta_table
data_le<-get_data(file_le)
data_fertility<-get_data(file_fertility)
meta_table<-get_meta_table()
# merge Region cols into data_le, data_fertility
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
df_le<-merge(data_le,meta_table, by='Country.Code')
# drop unnecessary cols
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
return(list(df_le, df_fertility))
}
results<-get_merged_data()
df_le<-results[1]
df_fertility<-results[2]
head(df_le,1)
head(df_le)
get_merged_data<-function(){
# get table- data_le, data_fertility, meta_table
data_le<-get_data(file_le)
data_fertility<-get_data(file_fertility)
meta_table<-get_meta_table()
# merge Region cols into data_le, data_fertility
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
df_le<-merge(data_le,meta_table, by='Country.Code')
# drop unnecessary cols
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
return(df_le)
}
results<-get_merged_data()
df_le<-results
head(df_le)
head(df_le,1)
results<-list(df_le,df_fertility)
return(results)
}
return(results)
results<-c(df_le,df_fertility)
return(results)
df_le<-results[1]
head(df_fertility,1)
results<-list(df_le,df_fertility)
get_merged_data<-function(){
# get table- data_le, data_fertility, meta_table
data_le<-get_data(file_le)
data_fertility<-get_data(file_fertility)
meta_table<-get_meta_table()
# merge Region cols into data_le, data_fertility
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
df_le<-merge(data_le,meta_table, by='Country.Code')
# drop unnecessary cols
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
results<-list(df_le,df_fertility)
return(results)
}
results<-get_merged_data()
df_le<-results[1]
df_le<-results[[1]]
df_fertility<-results[[2]]
head(df_fertility,1)
get_merged_data<-function(){
# get table- data_le, data_fertility, meta_table
data_le<-get_data(file_le)
data_fertility<-get_data(file_fertility)
meta_table<-get_meta_table()
# merge Region cols into data_le, data_fertility
df_fertility<-merge(data_fertility, meta_table, by='Country.Code')
df_le<-merge(data_le,meta_table, by='Country.Code')
# drop unnecessary cols
df_le<-df_le[,c(-3,-61)]
df_fertility<-df_fertility[,c(-3,-61)]
results<-list(df_le,df_fertility)
return(results)
}
results<-get_merged_data()
df_le<-results[[1]]
df_fertility<-results[[2]]
head(df_fertility,1)
head(df_fertility)
head(df_le)
melted_le<-melt_table[[1]]
melted_fertility<-melt_table[[2]]
melt_table<-function(){
melted_le<-melt(df_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melted_le<-rename(melted_le, Year=variable,Life.Expectancy=value)
melted_fertility<-melt(df_fertility, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melted_fertility<-rename(melted_fertility, Year=variable,Fertility.Rate=value)
results<-list(melted_le,melted_fertility)
return(results)
}
melted_le<-melt_table[[1]]
melted_le<-melt(df_le, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melted_le<-rename(melted_le, Year=variable,Life.Expectancy=value)
head(melted_le)
melted_fertility<-melt(df_fertility, id=c('Country.Code','Country.Name','Indicator.Code','Region'))
melted_fertility<-rename(melted_fertility, Year=variable,Fertility.Rate=value)
head(melted_fertility)
results<-list(melted_le,melted_fertility)
return(results)
}
melted_le<-melt_table()[[1]]
melted_fertility<-melt_table()[[2]]
head(melted_fertility)
head(melted_le)
head(melted_fertility)
library(reshape)
library(dplyr)
root<-'~/git/data_visualization/r_shiny_world_development_indicator/'
file_le<-paste(root,'API_SP.DYN.LE00.IN_DS2_en_csv_v2/API_SP.DYN.LE00.IN_DS2_en_csv_v2.csv',sep='')
file_fertility<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
file_meta<-paste(root,'API_SP.DYN.TFRT.IN_DS2_en_csv_v2/Metadata_Country_API_SP.DYN.TFRT.IN_DS2_en_csv_v2.csv',sep='')
get_data<-function(filepath){
# clean data, remove NAs, remove useless cols
data<-read.csv(filepath, skip=4)
names(data)<-append(names(data)[1:4],1960:2017)
data<-data[,1:59]
data<-data[complete.cases(data),]
return(data)
}
get_meta_table<-function(){
# get meta_table, remove useless cols
meta_table<-read.csv(file_meta,header = TRUE)
meta_table<-meta_table[,1:3]
return(meta_table)
}
get_merged_data<-function(){
df_le<-df_le[,c(-3,-61)]
}
data_le<-get_data(file_le)
head(data_le)
data_le<-get_data(file_le)
head(data_le)
meta_table<-read.csv(file_meta,header = TRUE)
get_data<-function(filepath){
# clean data, remove NAs, remove useless cols
data<-read.csv(filepath, skip=4)
names(data)<-append(names(data)[1:4],1960:2017)
data<-data[,1:59]
data<-data[complete.cases(data),]
return(data)
}
data_le<-get_data(file_le)
head(data_le)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
head(melted_le)
head(melted_fertility)
super<-merge(melted_le, melted_fertility, on=c('Country.Code','Country.Name','Region', 'Year'))
super
head(super)
super_data<-merge(melted_le, melted_fertility, on=c('Country.Code','Country.Name','Region', 'Year'))
head(super_data)
super_data
head(super_data,10)
head(super_data,20)
plot(super_data$Life.Expectancy, super_data$Fertility.Rate)
g<-ggplot(super_data, aes(Life.Expectancy, Fertility.Rate))
library(ggplot2)
g<-ggplot(super_data, aes(Life.Expectancy, Fertility.Rate))
g+geom_point()
g<-ggplot(super_data, aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point()
str(super_data)
g<-ggplot(super_data, aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point(alpha=0.5)
library(ggplot2)
g<-ggplot(super_data, aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point(alpha=0.5)+ theme(legend.position="none")
str(super_data)
g<-ggplot(subset(super_data, year=1960), aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point(alpha=0.5)+ theme(legend.position="none")
str(super_data)
subset(super_data, year=1960)
head(super_data,20)
g<-ggplot(subset(super_data, Year=1960), aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point(alpha=0.5)+ theme(legend.position="none")
str(super_data)
subset(super_data, Year=1960)
subset(super_data, Year==1960)
g<-ggplot(subset(super_data, Year==1960), aes(Life.Expectancy, Fertility.Rate, color=Country.Code))
g+geom_point(alpha=0.5)+ theme(legend.position="none")
str(super_data)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
make_plot(1960)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
make_plot(1960)
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
make_plot(1960)
super_data<-merge(melted_le, melted_fertility, on=c('Country.Code','Country.Name','Region', 'Year'))
super_data<-super_data[complete.cases(super_data),]
head(super_data,20)
make_plot<-function(yr){
library(ggplot2)
g<-ggplot(subset(super_data, Year==yr), aes(Life.Expectancy, Fertility.Rate, color=Region))
g+geom_point()#+ theme(legend.position="none")
#str(super_data)
}
make_plot(1960)
super_data
super_data$Region
super_data$Region=''
super_data$Region
super_data<-merge(melted_le, melted_fertility, on=c('Country.Code','Country.Name','Region', 'Year'))
super_data<-super_data[complete.cases(super_data),]
head(super_data,20)
super_data$Region
source('~/git/data_visualization/r_shiny_world_development_indicator/get_data.R')
super_data$Region
head(super_data,20)
make_plot(1960)
